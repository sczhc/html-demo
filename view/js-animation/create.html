<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>create span</title>
</head>

<body>
	<style type="text/css">
		body {
			margin: 0;
		}

		.text-popup {
			animation: textPopup 1s;
			user-select: none;
			white-space: nowrap;
			position: absolute;
			z-index: 99;
		}

		.text-child {
			position: relative;
			width: 30px;
			height: 30px;
			margin: 15px;
			transform: rotate(45deg);
			/* background: red; */
		}

		.text-child::before,
		.text-child::after {
			position: absolute;
			content: "";
			width: 100%;
			height: 100%;
			/* background: red; */
			border-radius: 50%;
		}
		.text-child::before {
			left: -15px;
		}
		.text-child::after {
			top: -15px;
		}

		@keyframes textPopup {
			0% {
				opacity: 1;
			}

			100% {
				opacity: 0;
				transform: translateY(-50px);
			}
		}
	</style>
	<script>
		function rgb() {
			let r = Math.floor(Math.random() * 256);
			let g = Math.floor(Math.random() * 256);
			let b = Math.floor(Math.random() * 256);
			let rgb = '(' + r + ',' + g + ',' + b + ')';
			return rgb;
		}

		document.documentElement.addEventListener('click', function (event) {
			var x = event.pageX, y = event.pageY;
			var eleText = document.createElement('div');
			var eleChild = document.createElement('div');
			eleText.className = 'text-popup';
			eleChild.className = 'text-child';
			document.styleSheets[0].insertRule('.text-child::before{ background-color: rgb'+ rgb() +' }');
			document.styleSheets[0].insertRule('.text-child::after{ background-color: rgb'+ rgb() +' }');
			eleText.appendChild(eleChild);
			eleChild.style.backgroundColor = 'rgb' + rgb();
			this.appendChild(eleText);

			// 位置
			eleText.style.left = (x - eleText.clientWidth / 2) + 'px';
			eleText.style.top = (y - eleText.clientHeight) + 'px';

			// 动画结束后删除自己
			eleText.addEventListener('animationend', function () {
				eleText.parentNode.removeChild(eleText);
			})
		})
	</script>
</body>

</html>